/*
* This code was generated by the persistence code generator
* Copyright 2000-2008 by Emptoris, Inc.,
* Backing pod: C:/Emptoris_Complete/eclipse_workspace/rMCCS_new/ue-ecm-exit-project/src/main/java/com/emptoris/ecm/exit/persistence/MccsNonAmendmentContractSerialNumber.pod
*/

/******************************************************************************/
/* SerialNumByComibinationIterator.java                                       */
/******************************************************************************/
package persistence;
import com.dicarta.infra.persistence.server.*;
import com.dicarta.infra.persistence.common.exception.*;
import com.dicarta.infra.persistence.common.databeans.*;
import com.dicarta.infra.persistence.common.iterator.*;
import persistence.*;
import java.util.*;
import java.sql.*;
import java.math.*;
import com.dicarta.infra.logging.*;

/******************************************************************************/
/* class: SerialNumByComibinationIterator                                     */
/******************************************************************************/
public class SerialNumByComibinationIterator extends AbstractJDBCDataIterator {
    private MCCSCustomNonAmdSerialNumber m_data;
    private MCCSCustomNonAmdSerialNumber  m_criteria;

    /**************************************************************************/
    /* constructor                                                            */
    /**************************************************************************/
    public SerialNumByComibinationIterator(MCCSCustomNonAmdSerialNumber criteria) {
        m_data = new MCCSCustomNonAmdSerialNumber();
        m_criteria = criteria;
    }

    /**************************************************************************/
    /* getQueryStatement                                                      */
    /**************************************************************************/
    protected PreparedStatement getQueryStatement() throws PersistenceException, SQLException {
        PseudoPreparedStatement ps = new PseudoPreparedStatement(getConnection(),MCCS_CUSTOM_TB_NONAMDPersister.getGetSerialNumSQL());
        ps.setString(1, m_criteria.getCOMPANY_ID());
        ps.setInt(2, m_criteria.getYEAR());
        ps.setString(3, m_criteria.getCONTRACT_TYPE());
        return ps;
    }

    /**************************************************************************/
    /* populateDataBean                                                       */
    /**************************************************************************/
    protected final IPersistentData populateDataBean(ResultSet rs, boolean bClone) throws PersistenceException, SQLException {
        if(bClone) {
            m_data = new MCCSCustomNonAmdSerialNumber();
        }
        m_data.setCOMPANY_ID(rs.getString(1));
        m_data.setYEAR(rs.getInt(2));
        m_data.setCONTRACT_TYPE(rs.getString(3));
        m_data.setSERIAL_NUMBER(rs.getInt(4));
        return (IPersistentData)m_data;
    }
}
